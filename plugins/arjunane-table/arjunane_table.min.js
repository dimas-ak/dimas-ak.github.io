(function(t){"use strict";function e(t,e){var n=e.getElementsByClassName("--at-confirm-container")[0],a=e.getElementsByClassName("--at-alert-alert")[0],r=a.getElementsByTagName("button"),i=n.getElementsByTagName("button");r[0].addEventListener("click",function(){a.classList.remove("aktif")}),i[0].addEventListener("click",function(){n.classList.remove("aktif"),t.accept_confirm()}),i[1].addEventListener("click",function(){n.classList.remove("aktif"),t.abort_confirm()})}function n(t,e,n){var a=n;d[t.index].data=a;var r=t.container[0],i=!!Array.isArray(a[0]);if(d[t.index].is_array=i,null!==e&&t.__normalizeData(a),t.__setResult(null===e?null:e.time),t.__setPagination(),0===a.length){var s=t.thead.length,o=r.getElementsByTagName("tbody")[0];o.innerHTML+='<tr><td style="text-align:center" colspan="'+s+'">Ops, Your Data is NULL</td></tr>'}else{t.__setTbody(null!==e||void 0),t.isCheckable&&r.getElementsByClassName("--at-checkbox-container")[0].addEventListener("click",function(){var e=r.getElementsByTagName("tbody")[0].getElementsByClassName("--at-check-box");if(this.checked)for(var n=0;n<e.length;n++){var a=e[n].parentElement.parentElement,i=parseInt(e[n].value);e[n].checked=!0,t.__addCheckData(i),a.classList.contains("aktif")||a.classList.add("aktif")}else for(n=e.length-1;n>=0;n--){a=e[n].parentElement.parentElement,i=parseInt(e[n].value);e[n].checked=!1,t.__removeCheckData(i),a.classList.remove("aktif")}}),r.addEventListener("click",function(t){});var l=r.getElementsByClassName("--at-page");r.getElementsByClassName("--select-jump")[0].addEventListener("change",function(){t.__getPagination(this.value),t.__setResult(),t.__setPagination(),t.__setTbody(),t.on_jump_page(),t.on_page_change()});var h=r.getElementsByTagName("th"),c=0;t.action&&(c+=1),t.popup_action&&(c+=1);for(var _=h.length-c,p=0;p<h.length;p++)h[p].addEventListener("mouseout",function(t){var e=r.getElementsByTagName("td");if(!(0!==c&&t>=_))for(var n=0;n<e.length;n++)e[n].classList.remove("hover")}.bind(null,p)),h[p].addEventListener("mouseover",function(t){if(!(c&&t>=_))for(var e=r.getElementsByTagName("tbody")[0].getElementsByTagName("tr"),n=0;n<e.length;n++)e[n].getElementsByTagName("td")[t].classList.add("hover")}.bind(null,p)),h[p].addEventListener("click",function(e){if(!(0!==c&&e>=_||h[e].classList.contains("--at-check")||h[e].classList.contains("--at-no"))){for(var n=0;n<h.length;n++)h[n].classList.remove("--desc"),h[n].classList.remove("--asc");var a=0;t.isCheckable&&(a+=1),t.isNumeric&&(a+=1);var r=t.isCheckable?e-a:e;t.__orderBy(r);var i=d[t.index],s=i.is_asc,o=s?"--asc":"--desc";h[e].classList.add(o),t.__setResult(),t.__setPagination(),t.__setTbody()}}.bind(null,p));l[0].addEventListener("click",function(){this.classList.contains("aktif")&&(t.__getPagination(d[t.index].current_page-1),t.__setResult(),t.__setPagination(),t.__setTbody(),t.on_prev_page(),t.on_page_change())}),l[1].addEventListener("click",function(){this.classList.contains("aktif")&&(t.__getPagination(d[t.index].current_page+1),t.__setResult(),t.__setPagination(),t.__setTbody(),t.on_next_page(),t.on_page_change())}),r.getElementsByClassName("--select-show")[0].addEventListener("change",function(){t.__getResultShow(this.value),t.__setResult(),t.__setPagination(),t.__setTbody(),t.on_showing(),this.on_page_change()})}}function a(t){for(var e=["io","gt","lt","gte","lte","eq"],n=0;n<e.length;n++){var a=e[n];if(t===a)return a}return e[0]}function r(t,e,n){return"io"===n&&-1!==e.toString().indexOf(t)||("gt"===n&&parseFloat(e)>parseFloat(t)||"gte"===n&&parseFloat(e)>=parseFloat(t)||("lt"===n&&parseFloat(e)<parseFloat(t)||"lte"===n&&parseFloat(e)<=parseFloat(t)||"eq"===n&&t.toString()===e.toString()))}function i(t,e,n,a){for(var r=!0,i=0;i<t.length;i++){for(var o=t[i],l=n?o.length-1:null,h=0;h<e.length;h++){var c=e[h];if(void 0===c.key&&!n)throw Error('\nPlease set parameters for "key" on insert_column or insertColumn');if(!n&&void 0!==o[c.key])throw Error('\nOps data with key/index of "'+c.key+'" is exist on insert_column or insertColumn');if(!n&&void 0!==o[c.key]&&"primary_index"===c.key)throw Error('\nOps, please do not use the word "primary_index" on insert_column or insertColumn');var _=c.value?c.value(a.__setParameters(o)):"";if(n?o.splice(l+h,0,_):o[c.key]=_,void 0!==c.html&&r){var p=n?l+h:c.key;a.update_row[p]=c.html}}r=!1}var u=d[a.index];for(var f in u.arr_search)u.arr_search[f]=null;var g=s(u.arr_object);for(i=0;i<e.length;i++){c=e[i],p=n?g+i:c.key;u.arr_object[g+i]=p}if(void 0!==a)for(h=0;h<e.length;h++){c=e[h];var v=c.thead||"";a.thead.push(v)}}function s(t){var e=0;for(var n in t)e+=1;return e}function o(t,e){for(var n in t)if(t[n]===e)return parseInt(n);return-1}function l(t){return t instanceof Date&&!isNaN(t.valueOf())}function h(t){return!isNaN(parseFloat(t))&&isFinite(t)}function c(t){try{JSON.parse(t)}catch(t){return!1}return!0}var _=0,d={};void 0===Array.isArray&&(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(t){if(null==this)throw TypeError('"this" is null or not defined');var e=Object(this),n=e.length>>>0;if("function"!=typeof t)throw TypeError("predicate must be a function");for(var a=arguments[1],r=0;r<n;){var i=e[r];if(t.call(a,i,r,e))return i;r++}},configurable:!0,writable:!0}),Array.prototype.indexOf||(Array.prototype.indexOf=function(t,e,n){return function(a,r){if(null==this)throw TypeError("Array.prototype.indexOf called on null or undefined");var i=t(this),s=i.length>>>0,o=n(0|r,s);if(o<0)o=e(0,s+o);else if(o>=s)return-1;if(void 0===a){for(;o!==s;++o)if(void 0===i[o]&&o in i)return o}else{if(a!=a)return-1;for(;o!==s;++o)if(i[o]===a)return o}return-1}}(Object,Math.max,Math.min));var p=document.getElementsByTagName("link"),u=!1;if(0!==p.length)for(var f=0;f<p.length;f++)null===p[f].getAttribute("href")||-1===p[f].getAttribute("href").indexOf("arjunane_table.min.css")&&-1===p[f].getAttribute("href").indexOf("arjunane_table.css")||(u=!0);if(!u){var g="";if(void 0===document.currentScript)for(var v=0;v<document.scripts.length;v++)-1!==document.scripts[v].src.indexOf("arjunane_table")&&(g=document.scripts[v].src.split("/"));else g=document.currentScript.src.split("/");var m=document.createElement("link"),y=g[g.length-1].length,b=g.join("/").slice(0,-y);m.rel="stylesheet",m.href=b+"arjunane_table.min.css",document.head.appendChild(m)}var x=function(){this.version="1.0.1",this.github="https://github.com/dimas-ak/",this.documentation_server_1="https://dimas-ak.web.app/documentation/arjunane-table",this.documentation_server_2="https://dimas-ak.github.io/documentation/arjunane-table/",this.developed_by="Dimas Awang Kusuma",this.facebook="https://www.facebook.com/arjunane.co.id"};x.prototype.init=function(t,e){var n=function(){};n.prototype=x.prototype;var a=new n;return a.__initTable(t,e),a},x.prototype.__initTable=function(t,a){var r={},i=performance.now();this.str_selector="--arjunane-table-"+_,this.str_query=".--arjunane-table-"+_,this.json_search=null,this.index=_,this.obj=a,this.is_scrolled=!0,this.height=!1,this.insert_column=null,this.max_page=0,this.data=new Array,this.last_id_inserted=0,this.total_inserted=0,this.removed_index=new Array,this.accept_confirm=function(){},this.abort_confirm=function(){},this.on_complete=function(){},this.on_change=function(){},this.on_next_page=function(){},this.on_prev_page=function(){},this.on_jump_page=function(){},this.on_showing=function(){},this.on_filter=function(){},this.on_page_change=function(){},this.on_row=null,this.on_tbody=null,this.isCheckable=!1,this.isNumeric=!1,this.data_checked=new Array,this.index_checked=new Array,d[this.index]={index:_,data:{},per_page:10,current_page:1,arr_search:{},arr_search_type:{},arr_object:null,order_by_index:null,is_asc:!0};var s=document.querySelector(t);if(null===s)throw Error('\nSelector with name "'+t+'" doesn`t exist');var o="table"===s.tagName.toString().toLowerCase();if(o){d[this.index].is_array=!0;var l=document.querySelector(t),h=l.getElementsByTagName("th"),p=l.getElementsByTagName("td");if(null===h||0===h.length)throw Error('\nPlease, at least set your "th" element tag');this.thead=new Array,this.json=new Array,this.json_search=null;for(var u=new Array,f=new Array,g=h.length-1,v=0;v<h.length;v++)this.thead.push(h[v].innerHTML);for(v=0;v<p.length;v++)u.push(p[v].innerHTML),v===g&&(g+=h.length,f.push(u),u=new Array);var m="container-arjunane-replace-"+_;this.json=f,l.insertAdjacentHTML("afterend",'<div class="'+m+'"></div>'),this.selector=document.querySelector("."+m),this._str_selector=t,l.style.display="none"}else this.selector=document.querySelector(t),this._str_selector=t;var y=null;if(a){if(this.isCheckable=a.checkable||!1,this.isNumeric=a.numeric||!1,this.action=a.action,this.popup_action=a.popup_action,this.hide=a.hide||new Array,this.is_scrolled=a.scrollable||this.is_scrolled,this.height=a.height||this.height,this.thead=a.thead||this.thead,this.update_row=a.update_row||{},this.insert_column=a.insert_column||null,a&&!a.url&&!a.data&&!o)throw Error('\nPlease, at least set "url" or "data"');y=a.url}this.__setTable(),this.container=document.getElementsByClassName(this.str_selector),this.__setFormFilters();d[this.index];var b=this;if(e(b,this.container[0]),o){x=performance.now();r.time=((x-i%6e4)/1e3).toFixed(2),n(b,r,this.json),b.on_complete()}else if(a.data)if(Array.isArray(b.data)){var x=performance.now();r.time=((x-i%6e4)/1e3).toFixed(2),n(b,r,a.data),b.on_complete(),b.insert_column&&b.__changeColumn()}else{var j="<strong>Selector</strong> : "+b._str_selector+"<br><strong>Messages</strong> : <br>Data not valid";b.showAlert({type:"danger",title:"Ops, something went wrong !",text:j})}else this.req(y,function(t){if(null===t.error&&c(t.result))b.on_complete(),n(b,t,JSON.parse(t.result)),b.insert_column&&b.__changeColumn();else{var e="<strong>Selector</strong> : "+b._str_selector+"<br><strong>URL</strong> : "+y+"<br><strong>Messages</strong> : <br>"+t.result;b.showAlert({type:"danger",title:"Ops, something went wrong !",text:e})}});return _++,this},x.prototype.__getPagination=function(t){d[this.index].current_page=parseInt(t)},x.prototype.__getResultShow=function(t){d[this.index].per_page=parseInt(t),d[this.index].current_page=1},x.prototype.__setTable=function(t){var e=void 0===t?this.selector:this.selector.parentElement,n=this.obj&&this.obj.loading_text?this.obj.loading_text:"Please wait ...",a='<div class="arjunane-table '+this.str_selector+'">';if(a+='<div class="--at-alert-container --at-confirm-container">',a+='<div class="--at-alert">',a+='<div class="--at-alert-top">',a+="<span>Info</span>",a+="</div>",a+='<div class="--at-alert-middle">',a+="</div>",a+='<div class="--at-alert-bottom">',a+="<button>Yes</button>",a+="<button>No</button>",a+="</div>",a+="</div>",a+="</div>",a+='<div class="--at-alert-container --at-alert-alert">',a+='<div class="--at-alert">',a+='<div class="--at-alert-top">',a+="<span>Info</span>",a+="</div>",a+='<div class="--at-alert-middle">',a+="</div>",a+='<div class="--at-alert-bottom">',a+="<button>OK</button>",a+="</div>",a+="</div>",a+="</div>",a+='<div class="--at-top">',this.obj&&void 0!==this.obj.title&&(a+='<div class="--at-title">',a+="<strong>"+this.obj.title+"</strong>",void 0!==this.obj.sub_title&&(a+="<span>"+this.obj.sub_title+"</span>"),a+="</div>"),this.obj&&void 0!==this.obj.content_top){if(this.obj&&void 0!==this.obj.content_top.form_filter){a+='<div class="--at-content --cf">';var r=this.obj.content_top.form_filter;a+='<div class="--at-form-filter">',a+="<label>Filters :</label>";for(var i=0;i<r.length;i++){var s=r[i],o=s.text||"",l=s.attr||"";if(void 0===s.type)throw Error('\nPlease, set "type" for filters');if(a+='<div class="--at-form-input">',a+="<span>"+o+"</span>","input"===s.type)a+="<input "+l+' class="--at-filter-'+i+'">';else if("select"===s.type){if(void 0===s.arr)throw Error('\nPlease, set "arr" for "select" filters');for(var h in a+='<select class="--at-filter-'+i+'" '+l+">",s.arr){var c=s.arr[h];a+='<option value="'+c[0]+'">'+c[1]+"</option>"}a+="</select>"}a+="</div>"}a+="</div>",a+="</div>"}if(a+='<div class="--at-content --cf --at-content-top">',this.obj.content_top.action)for(i=0;i<this.obj.content_top.action.length;i++){var _=this.obj.content_top.action[i],d=_.type||"info",p=_.href||"",u=(l=_.attr||""," "+(_.cls||d));a+='<a href="'+p+'" class="--at-btn --at-btn-top-'+i+u+'" '+l+">"+_.text+"</a>"}a+="</div>"}a+='<div class="--at-content --cf">',a+='<div class="--at-left">',a+='<span class="--at-show"></span>',a+='<select class="--select-show"><option value="">-</option></select>',a+="</div>",a+='<div class="--at-right">',a+="<span>Jump to : </span>",a+='<select class="--select-jump"><option value="">-</option></select>',a+='<button class="--at-page">Prev</button>',a+='<span class="--at-current-page">1</span>',a+='<button class="--at-page">Next</button>',a+="</div>",a+="</div>",a+="</div>";var f=this.obj&&this.is_scrolled?" --scrolled":"";f+=this.obj&&"string"==typeof this.height?"":" --max-height";var g=this.obj&&"string"==typeof this.height?' style="height:'+this.height+'"':"";if(a+='<div class="--at-table-container'+f+'"'+g+">",a+="<table>",a+="<thead>",!this.thead){var v='\nPlease, set "thead" for '+this._str_selector;throw v+='\nExample thead : ["name", "surname", "option"]',Error(v)}a+="<tr>",this.isNumeric&&(a+='<th class="--at-no">',a+="No.",a+="</th>"),this.isCheckable&&(a+='<th class="--at-check">',a+='<input autocomplete="off" type="checkbox" class="--at-checkbox-container">',a+="</th>");for(i=0;i<this.thead.length;i++)a+="<th>"+this.thead[i]+"</th>";if(this.action&&(a+="<th></th>"),this.popup_action&&(a+="<th></th>"),a+="</tr>",a+="</thead>",a+="<tbody>",a+='<tr><td colspan="'+this.thead.length+'"><div class="--at-center"><div class="--at-loading">'+n+"</div></div></td></tr>",a+="</tbody>",a+="</table>",a+="</div>",this.obj&&this.obj.content_bottom){if(a+='<div class="--at-bottom">',this.obj&&void 0!==this.obj.content_bottom.form_filter){a+='<div class="--at-content --cf">';r=this.obj.content_bottom.form_filter;a+='<div class="--at-form-filter">',a+="<label>Filters :</label>";for(i=0;i<r.length;i++){s=r[i],o=s.text||"",l=s.attr||"";if(void 0===s.type)throw Error('\nPlease, set "type" for filters');if(a+='<div class="--at-form-input">',a+="<span>"+o+"</span>","input"===s.type)a+="<input "+l+' class="--at-filter-'+i+'">';else if("select"===s.type){if(void 0===s.arr)throw Error('\nPlease, set "arr" for "select" filters');for(var h in a+='<select class="--at-filter-'+i+'" '+l+">",s.arr){c=s.arr[h];a+='<option value="'+c[0]+'">'+c[1]+"</option>"}a+="</select>"}a+="</div>"}a+="</div>",a+="</div>"}if(a+='<div class="--at-content --cf --at-content-bottom">',this.obj.content_bottom.action)for(i=0;i<this.obj.content_bottom.action.length;i++){_=this.obj.content_bottom.action[i],d=_.type||"info",p=_.href||"",l=_.attr||"",u=" "+(_.cls||d);a+='<a href="'+p+'" class="--at-btn --at-btn-bottom-'+i+u+'" '+l+">"+_.text+"</a>"}a+="</div>",a+="</div>"}a+="</div>",e.innerHTML=a,this.obj&&this.obj.content_top&&this.obj.content_top.action&&this.__addListenerToContentAction("top"),this.obj&&this.obj.content_bottom&&this.obj.content_bottom.action&&this.__addListenerToContentAction("bottom")},x.prototype.__addListenerToContentAction=function(e){for(var n=this.obj["content_"+e].action,a=this,r=d[this.index],i=document.getElementsByClassName(this.str_selector)[0].getElementsByClassName("--at-content-"+e)[0],s=0;s<n.length;s++)(function(s){var o=n[s];i.getElementsByClassName("--at-btn-"+e+"-"+s)[0].addEventListener("click",function(e){var n=new Array,i=1===r.current_page?0:(r.current_page-1)*r.per_page,s=o.href||"";if(0!==a.data_checked.length)for(var l=i;l<a.data_checked.length;l++){void 0!==a.data_checked[l]&&n.push(a.__setData(a.data_checked[l]))}var h=void 0!==o.params?s+o.params(n):s;"function"==typeof o.listener?o.listener(n,e,this):(e.preventDefault(),t.location.href=h)})})(s)},x.prototype.__setTbody=function(t){this.data_checked=new Array,this.index_checked=new Array,this.isCheckable&&(this.container[0].getElementsByClassName("--at-checkbox-container")[0].checked=!1);for(var e=d[this.index],n=null===this.json_search?this.json:this.json_search,a=(e.is_array,""),r=1===e.current_page?0:(e.current_page-1)*e.per_page,i=this.container[0].getElementsByTagName("tbody")[0],s=new Array,o=r;o<n.length;o++){var l=n[o];if(void 0!==l){var h=0;for(var c in s.push(l),a+="<tr>",this.isNumeric&&(a+='<td class="--at-no">',a+="<span>"+(o+1)+"</span>",a+="</td>"),this.isCheckable&&(a+="<td>",a+='<input autocomplete="off" type="checkbox" class="--at-check-box" value="'+o+'">',a+="</td>"),l)if(this.__isHide(c)||parseInt(c)+1===l.length||"primary_index"===c){if(this.action&&0!==h){a+='<td class="--act">';for(var _=0;_<this.action.length;_++){var p=this.action[_],u=p.text||"Action",f=p.attr||"",g=p.href||"",v=void 0!==p.params?p.params(this.__setParameters(l)):g,m=p.cls?" "+p.cls:"";a+='<a href="'+v+'" class="--at-btn-action-tr --at-btn-action-'+_+m+'" '+f+' value="'+o+'">'+u+"</a>"}a+="</td>"}if(this.popup_action&&0!==h){a+='<td class="--act">',a+='<div class="--at-action --at-popup-action">',a+="<span></span>",a+="</div>",a+='<div class="--at-action-container">';for(_=0;_<this.popup_action.length;_++){p=this.popup_action[_],u=p.text||"Action",f=p.attr||"",g=p.href||"",v=void 0!==p.params?p.params(this.__setParameters(l)):g,m=p.cls?" "+p.cls:" --default";a+='<a href="'+v+'" class="--at-btn-popup-action-'+_+m+'" '+f+' value="'+o+'">'+u+"</a>"}a+="</div></td>"}}else{if(a+="<td>",void 0!==this.update_row&&void 0!==this.update_row[c]){var y="\nOps, something went wrong";y+="\nChange/Update messages for",y+='\nchange : { "'+c+'" : function }',y+="\nPlease give the return as a STRING";var b=this.update_row[c](this.__setParameters(l));if("string"!=typeof b)throw Error(y);a+=b}else a+=l[c];a+="</td>",h++}if(a+="</tr>",e.current_page*e.per_page===o+1)break}}i.innerHTML=a;var x=this;if(this.action){var j=this.container[0];for(i=j.getElementsByTagName("tbody")[0],o=0;o<s.length;o++)for(var k=i.getElementsByTagName("tr")[o],w=0;w<this.action.length;w++){p=this.action;(function(t,e){k.getElementsByClassName("--at-btn-action-"+e)[0].addEventListener("click",function(n){if(void 0!==p[e].listener)return p[e].listener(x.__setData(s[t]),n,this)})})(o,w)}}if(this.popup_action){j=this.container[0];var E=j.getElementsByClassName("--at-popup-action");for(i=j.getElementsByTagName("tbody")[0],o=0;o<s.length;o++){k=i.getElementsByTagName("tr")[o];E[o].addEventListener("click",function(){var t=j.getElementsByClassName("--at-action-container"),e=this.nextSibling;if(e.classList.contains("aktif"))return e.classList.remove("aktif"),void this.classList.remove("aktif");for(var n=0;n<t.length;n++)E[n].classList.remove("aktif"),t[n].classList.remove("aktif");e.classList.add("aktif"),this.classList.add("aktif")});for(w=0;w<this.popup_action.length;w++){p=this.popup_action;(function(t,e){k.getElementsByClassName("--at-btn-popup-action-"+e)[0].addEventListener("click",function(n){if(void 0!==p[e].listener)return p[e].listener(x.__setData(s[t]),n,this)})})(o,w)}}}if(this.isCheckable){var N=this.container[0].getElementsByTagName("tbody")[0].getElementsByClassName("--at-check-box");for(x=this,o=0;o<s.length;o++)N[o].addEventListener("click",function(){var t=parseInt(this.value),e=this.parentElement.parentElement;this.checked?(e.classList.add("aktif"),x.__addCheckData(t)):(e.classList.remove("aktif"),x.__removeCheckData(t)),0===x.data_checked.length&&(x.container[0].getElementsByClassName("--at-checkbox-container")[0].checked=!1)})}if(null!==this.on_row&&s.length>0){var L=this.container[0].getElementsByTagName("tbody")[0].getElementsByTagName("tr");for(o=0;o<L.length;o++){c=s[o];var T=L[o];this.on_row(T,this.__setData(c),o)}}if(null!==this.on_tbody&&s.length>0){i=this.container[0].getElementsByTagName("tbody")[0];this.on_tbody(i)}void 0===t&&this.on_change()},x.prototype.__addCheckData=function(t){var e=null===this.json_search?this.json:this.json_search;this.data_checked[t]=e[t],this.index_checked[t]=t},x.prototype.__removeCheckData=function(t){if(1===this.data_checked.length)return this.data_checked=new Array,void(this.index_checked=new Array);this.data_checked.splice(t,1),this.index_checked.splice(t,1)},x.prototype.__setData=function(t){var e=d[this.index].is_array,n={};return n.key=e?t[t.length-1]:t.primary_index,n.data=this.__setParameters(t),n},x.prototype.__setFormFilters=function(){if(this.obj&&this.obj.content_top&&void 0!==this.obj.content_top.form_filter){var t=this;setTimeout(function(){for(var e=t.container[0],n=e.getElementsByClassName("--at-top")[0],a=t.obj.content_top.form_filter,r=0;r<a.length;r++)(function(e){var r,i=a[e],s=n.getElementsByClassName("--at-filter-"+e)[0],o=null;"input"===s.nodeName.toLowerCase()?o="keyup":"select"===s.nodeName.toLowerCase()&&(o="change"),s.addEventListener(o,function(){var e=this.value;clearTimeout(r),r=setTimeout(function(){t.filter(e,i.for_key,i.filter_type)},500)})})(r)},1e3)}if(this.obj&&this.obj.content_bottom&&void 0!==this.obj.content_bottom.form_filter){t=this;setTimeout(function(){for(var e=t.container[0],n=e.getElementsByClassName("--at-bottom")[0],a=t.obj.content_bottom.form_filter,r=0;r<a.length;r++)(function(e){var r,i=a[e],s=n.getElementsByClassName("--at-filter-"+e)[0],o=null;"input"===s.nodeName.toLowerCase()?o="keyup":"select"===s.nodeName.toLowerCase()&&(o="change"),s.addEventListener(o,function(){var e=this.value;clearTimeout(r),r=setTimeout(function(){t.filter(e,i.for_key,i.filter_type)},500)})})(r)},1e3)}},x.prototype.filter=function(t,e,n){if(d[this.index].current_page=1,void 0!==this.json.length&&0!==this.json.length){var i="io",s=d[this.index],o=new Array;void 0!==n&&(i=a(n));var l=s.is_array?parseInt(e):e,h=0===t.length?null:t;if(void 0===s.arr_search[l])throw Error("\nUndefined index or key for : "+l);var c=s.arr_search,_=s.arr_search_type,p=0;for(var u in"*"!==e?(s.arr_search[l]=h,_[e]=i):_={},s.arr_search)null!==s.arr_search[u]&&(p+=1);for(u=0;u<this.json.length;u++){var f=this.json[u],g=0;if("*"===e){if(null===h)break;for(var v in f)null!==h&&r(h,f[v],i)&&o.push(f)}else{for(var v in c)null!==c[v]&&r(c[v],f[v],_[v])&&(g+=1);g===p&&o.push(f)}}null===h&&"*"===e&&0===o.length&&(o=this.json),this.json_search=o,this.__removeOrderByTH(),this.__setPagination(),this.__setResult(null),this.__setTbody(),this.on_filter()}},x.prototype.__removeOrderByTH=function(){for(var t=this.container[0].getElementsByTagName("th"),e=0;e<t.length;e++)t[e].classList.remove("--asc"),t[e].classList.remove("--desc")},x.prototype.__setResult=function(t){var e=d[this.index],n=null===this.json_search?this.json.length:this.json_search.length,a=this.container[0],r=a.getElementsByClassName("--at-show")[0],i=[10,25,50,100,250,500],s=a.getElementsByClassName("--select-show")[0],o=null!=t?"(Results took "+t+" seconds)":"";if(0===n)return s.innerHTML='<option value="">-</option>',void(r.innerHTML="Showing 1 to 0 of 0 "+o);var l="",h=0;if(void 0!==t){for(var c=0;c<i.length&&!(n<i[c]);c++)l+='<option value="'+i[c]+'">'+i[c]+"</option>",h++;0===h&&(l='<option value="">-</option>'),s.innerHTML=l}var _=1===e.current_page?1:(e.current_page-1)*e.per_page+1,p=0,u=n-(_+e.per_page);p=n<e.per_page||0===u||u<0?n:e.current_page*e.per_page,r.innerHTML="Showing "+_+" to "+p+" of "+n+" "+o},x.prototype.__setPagination=function(){var t=d[this.index],e=null===this.json_search?this.json.length:this.json_search.length,n=this.container[0],a=n.getElementsByClassName("--at-page"),r="",i=n.getElementsByClassName("--at-current-page")[0],s=(e/t.per_page).toFixed(0),o=e/t.per_page,l=e<=t.per_page?0:o>s?parseInt(s)+1:parseInt(s),h=n.getElementsByClassName("--select-jump")[0];if(this.max_page=l,0===l)r='<option value="">-</option>',i.innerHTML=1,h.innerHTML=r,a[0].classList.remove("aktif"),a[1].classList.remove("aktif");else{for(var c=0;c<l;c++){var _=c+1;r+='<option value="'+_+'">'+_+"</option>"}h.innerHTML=r;var p=h.getElementsByTagName("option")[t.current_page-1];if(void 0===p)return;p.selected='selected=""',a[0].classList.remove("aktif"),a[1].classList.remove("aktif"),i.innerHTML=t.current_page;var u=l-t.current_page;u!==l-1&&a[0].classList.add("aktif"),0!==u&&a[1].classList.add("aktif")}},x.prototype.__isHide=function(t){var e=d[this.index],n=e.is_array;if(void 0===this.hide)return!1;for(var a=0;a<this.hide.length;a++)if(n&&parseInt(t)===parseInt(this.hide[a])||!n&&t===this.hide[a])return!0;return!1},x.prototype.__setParameters=function(t){var e=null;return e=d[this.index].is_array?t.slice(0,t.length-1):Object.keys(t).map(function(e){return t[e]}).slice(0,Object.keys(t).length-1),e},x.prototype.__normalizeData=function(t,e){var n=d[this.index],a=n.is_array,r=n.arr_object,i={};if(0===t.length)return this.json=t;for(var s in t){if(null===r){r={};var o=t[s],l=0;if(!a&&void 0!==t.primary_index)throw Error('\nOps, please do not use the word "primary_index" on your data');for(var h in o)this.__isHide(h)||(r[l]=h,i[h]=null,l++);n.arr_search=i,n.arr_object=r}a?void 0!==e?t[s].pop():t[s].push(parseInt(s)):e?delete t[s].primary_index:t[s].primary_index=parseInt(s)}return n.data=t,this.last_id_inserted=t.length,this.json=t,this.json},x.prototype.__orderBy=function(t){var e=d[this.index],n=(e.is_array,e.arr_object),a=e.order_by_index,r=null===this.json_search?this.json:this.json_search,i=JSON.stringify(r),s=JSON.parse(i);a!==parseInt(t)&&(e.is_asc=!0);var o=e.is_asc;e.order_by_index=t,e.current_page=1,e.is_asc=!o;var c=n[t];s.sort(function(t,e){var n=l(t[c])?new Date(t[c]):t[c],a=l(e[c])?new Date(e[c]):e[c];return l(t[c])&&l(e[c])||h(t[c])&&h(e[c])?o?a-n:n-a:o?t[c].localeCompare(e[c]):e[c].localeCompare(t[c])}),this.total_inserted=0,this.json_search=s},x.prototype.req=function(t,e){var n=new(XMLHttpRequest||ActiveXObject)("MSXML2.XMLHTTP.3.0"),a=performance.now();n.onreadystatechange=function(){if(4==this.readyState){var t=performance.now(),n=((t-a%6e4)/1e3).toFixed(2);200==this.status?e({result:this.responseText,time:n,error:null}):e({result:this.responseText,time:n,error:{status:this.status,statusText:this.statusText}})}},n.onerror=function(t){console.log(t)},n.open("GET",t,!0),n.send()},x.prototype.deleteData=function(t){if(void 0!==t){var e=d[this.index],n=e.is_array,a=(e.current_page-1)*e.per_page,r=new Array;if(!Array.isArray(t)||0!==t.length){Array.isArray(t)?r=t:r.push(t);var i=this.json_search,s=this.json;if(r.length>1&&r.sort(function(t,e){return t-e}),null!==i){for(var o=new Array,l=a;l<e.current_page*e.per_page;l++){var h=i[l];if(void 0===h)break;var c=n?h[h.length-1]:ini.primary_index;if(-1!==r.indexOf(c)&&o.push(l),o.length===r.length)break}for(l=o.length-1;l>=0;l--){var _=o[l];i.splice(_,1)}}var p=new Array;s.find(function(t,e){var a=n?t[t.length-1]:ini.primary_index;if(-1!==r.indexOf(a)&&p.push(e),p.length===r.length)return!0});for(l=p.length-1;l>=0;l--){_=p[l];s.splice(_,1)}this.__setResult(),this.__setTbody(),this.__setPagination()}}},x.prototype.updateColumn=function(t,e){var n=d[this.index],a=n.is_array,r=(n.arr_object,this.json);if(void 0!==t&&void 0!==e&&void 0!==r.length&&r.length>0){for(var i=!0,s=0;s<r.length;s++){var o=r[s];if(void 0===o[t]||a&&parseInt(t)===o.length||!a&&"primary_index"===t)throw Error('\nCannot find data for "'+t+'" on updateColumn');var l=a?parseInt(t):t,h=e.value?e.value(this.__setParameters(o)):o[l];o[l]=h,void 0!==e.html&&i&&(this.update_row[l]=e.html),i=!1}this.__changeColumn(!0)}},x.prototype.deleteColumn=function(t){var e=d[this.index],n=e.is_array,a=e.arr_object,r=this.json;if(t&&void 0!==t.length&&void 0!==r.length&&r.length>0){for(var i=0;i<r.length;i++)for(var s=r[i],o=t.length-1;o>=0;o--){var l=t[o];if(void 0===s[l]||n&&parseInt(l)===s.length||!n&&"primary_index"===l)throw Error('\nCannot find data for "'+l+'" on deleteColumn');n?s.splice(parseInt(l),1):delete s[l]}var h={},c={},_=new Array,p=0;for(var i in a){var u=!1,f=a[i];for(o=0;o<t.length;o++){l=t[o];if(f===l.toString()){void 0!==e.arr_search_type[l.toString()]&&delete e.arr_search_type[l.toString()],p++,this.__isHide(l)||_.push(i),u=!0;break}}if(!u){var g=i-p;h[g]=null,c[g]=n?g.toString():f.toString()}}for(var v=_.length-1;v>=0;v--){p=_[v];if(this.__isHide(p))break;this.thead.splice(p,1)}for(var m=this.hide.length-1;m>=0;m--){l=this.hide[m];if(0===this.hide.length)break;for(o=0;o<t.length;o++){var y=t[o];l.toString()===y.toString()&&this.hide.splice(m,1)}}e.arr_search=h,e.arr_object=c}this.__changeColumn(!0)},x.prototype.__changeColumn=function(t){void 0===t&&this.__insertColumnInitialized(this.insert_column),this.__setTable(),this.container=document.getElementsByClassName(this.str_selector),this.__setFormFilters();d[this.index];var a=this;e(a,this.container[0]),n(a,null,a.json)},x.prototype.__insertColumnInitialized=function(t){var e=this.json,n=this,a=d[this.index],r=a.is_array;t&&void 0!==t.length&&e.length>0&&i(e,t,r,n)},x.prototype.insertColumn=function(t){this.__insertColumnInitialized(t),this.__changeColumn(!0)},x.prototype.insertData=function(t){if(void 0!==t){var e=d[this.index],n=e.is_array,a=(e.per_page,new Array);if(Array.isArray(t)){if(0===t.length)return;a=t,!Array.isArray(a[0])&&n&&(a=new Array,a[0]=t)}else a[0]=t;for(var r=new Array,i=new Array,s=0;s<a.length;s++){var o=a[s];this.last_id_inserted+=1;var l=this.last_id_inserted;n?o.push(l):o.primary_index=l,null!==this.json_search&&i.push(o),r.push(o)}this.total_inserted+=r.length,null!==this.json_search&&(this.json_search=i.concat(this.json_search)),this.json=r.concat(this.json),this.__setResult(null),this.__setPagination(),this.__setTbody()}},x.prototype.updateData=function(t,e){if(void 0!==t&&void 0!==e&&(!Array.isArray(t)||0!==t.length)){var n=d[this.index],a=n.is_array,r=n.arr_object,i=this.json_search,s=(n.current_page-1)*n.per_page,l=new Array,h=this.container[0].getElementsByTagName("tbody")[0],c=h.getElementsByTagName("tr");Array.isArray(t)?l=t:l[0]=t;var _=new Array,p=0;this.isCheckable&&(p+=1),this.isNumeric&&(p+=1);var u=0,f=new Array,g=new Array;if(null!==i)for(var v=s;v<n.current_page*n.per_page;v++){var m=i[v],y=a?m[m.length-1]:ini.primary_index;if(-1!==l.indexOf(y)&&g.push(v),g.length===l.length)break}this.json.find(function(t,e){var n=a?t[t.length-1]:ini.primary_index;if(-1!==l.indexOf(n)&&f.push(e),f.length===l.length)return!0});for(v=0;v<f.length;v++){var b=f[v];void 0===e.length?_=e:void 0!==e.length&&void 0===e[0].length?_=e:void 0!==e[u]&&(_=e[u]);var x=null!==this.json_search?g[v]:f[v],j=c[x].getElementsByTagName("td");for(var k in _){var w=o(r,k);if(-1===w)throw Error('\nOps, undefined index "'+k+'"\nAre you hide this index/key?');null!==this.json_search&&(this.json_search[g[v]][k]=_[k]),this.json[f[v]][k]=_[k];var E=null===this.json_search?this.json:this.json_search;j[w+p].innerHTML=this.update_row&&void 0!==this.update_row[k]?this.update_row[k](this.__setParameters(E[b])):_[k]}u++}}},x.prototype.showConfirm=function(t,e,n){for(var a=["warning","danger","info","success"],r=!t.type||"warning"!==t.type&&"danger"!==t.type&&"info"!==t.type&&"success"!==t.type?"info":t.type,i=this.container[0].getElementsByClassName("--at-confirm-container")[0],s=0;s<a.length;s++)i.classList.remove(a[s]);i.classList.add(r);var o=t.title||"INFO",l=t.text||"Info Confirm",h=t.accept_text||"Yes",c=t.abort_text||"No";i.classList.add("aktif"),i.getElementsByClassName("--at-alert-top")[0].children[0].innerHTML=o,i.getElementsByClassName("--at-alert-middle")[0].innerHTML=l,i.getElementsByTagName("button")[0].innerHTML=h,i.getElementsByTagName("button")[1].innerHTML=c,"function"==typeof e&&(this.accept_confirm=e),"function"==typeof n&&(this.abort_confirm=n)},x.prototype.showAlert=function(t){for(var e=["warning","danger","info","success"],n=!t.type||"warning"!==t.type&&"danger"!==t.type&&"info"!==t.type&&"success"!==t.type?"info":t.type,a=this.container[0].getElementsByClassName("--at-alert-alert")[0],r=0;r<e.length;r++)a.classList.remove(e[r])
;a.classList.add(n);var i=t.title||"INFO",s=t.text||"Info Alert",o=t.button_text||"OK";a.classList.add("aktif"),a.getElementsByClassName("--at-alert-top")[0].children[0].innerHTML=i,a.getElementsByClassName("--at-alert-middle")[0].innerHTML=s,a.getElementsByTagName("button")[0].innerHTML=o},x.prototype.clearChecked=function(){if(null!==this.json&&this.isCheckable){var t=this.container[0],e=t.getElementsByTagName("tbody")[0].getElementsByClassName("--at-check-box"),n=t.getElementsByClassName("--at-checkbox-container")[0];n.checked=!1;for(var a=e.length-1;a>=0;a--){var r=e[a].parentElement.parentElement,i=parseInt(e[a].value);e[a].checked=!1,this.__removeCheckData(i),r.classList.remove("aktif")}}},x.prototype.getCheckedData=function(){var t=new Array;if(this.index_checked.length>0)for(var e=0;e<this.index_checked.length;e++)if(void 0!==this.index_checked[e]){var n={};n.key=this.index_checked[e],n.data=this.__setParameters(this.data_checked[e]),t.push(n)}return t},x.prototype.getData=function(){for(var t=new Array,e=d[this.index].is_array,n=0;n<this.json.length;n++){var a=this.json[n],r={};r.key=e?a[a.length-1]:a.primary_index,r.data=this.__setParameters(a),t.push(r)}return t},x.prototype.getCurrentData=function(){var t=d[this.index],e=new Array,n=(new Array,t.is_array),a=null===this.json_search?this.json:this.json_search,r=(t.current_page-1)*t.per_page;if(void 0!==a.length||a.length>0)for(var i=r;i<a.length;i++){var s=a[i],o={};if(o.key=n?s[s.length-1]:s.primary_index,o.data=this.__setParameters(s),e.push(o),t.current_page*t.per_page===i+1)break}return e},x.prototype.getAllCurrentData=function(){var t=new Array,e=d[this.index].is_array,n=null===this.json_search?this.json:this.json_search;if(void 0!==n.length||n.length>0)for(var a=0;a<n.length;a++){var r=n[a],i={};i.key=e?r[r.length-1]:r.primary_index,i.data=this.__setParameters(r),t.push(i)}return t},x.prototype.isJSON=function(t){try{JSON.parse(t)}catch(t){return!1}return!0},x.prototype.on=function(t,e){"complete"===t?this.on_complete=e:"change"===t?this.on_change=e:"next_page"===t?this.on_next_page=e:"prev_page"===t?this.on_prev_page=e:"jump_page"===t?this.on_jump_page=e:"showing"===t?this.on_showing=e:"filter"===t?this.on_filter=e:"page_change"===t?this.on_page_change=e:"row"===t?this.on_row=e:"tbody"===t&&(this.on_tbody=e)},x.prototype.pages=function(){var t=d[this.index],e={max_page:this.max_page,per_page:t.per_page,current_page:t.current_page};return e},x.prototype.replace=function(t){var e=this;if(Array.isArray(t)){d[this.index]={index:_,data:{},per_page:10,current_page:1,arr_search:{},arr_search_type:{},arr_object:null,order_by_index:null,is_asc:!0},n(e,null,t),e.insert_column&&e.__changeColumn()}else{var a="<strong>Selector</strong> : "+e._str_selector+"<br><strong>Messages</strong> : <br>Data not valid";e.showAlert({type:"danger",title:"Ops, something went wrong !",text:a})}},x.prototype.nextPage=function(){d[this.index].current_page>=this.max_page||(this.__getPagination(d[this.index].current_page+1),this.__setResult(),this.__setPagination(),this.__setTbody(),this.on_next_page(),this.on_page_change())},x.prototype.prevPage=function(){d[this.index].current_page<=1||(this.__getPagination(d[this.index].current_page-1),this.__setResult(),this.__setPagination(),this.__setTbody(),this.on_next_page(),this.on_page_change())},x.prototype.jumpTo=function(t){var e=isNaN(parseInt(t))?1:parseInt(t);e<1||e>this.max_page||(this.__getPagination(e),this.__setResult(),this.__setPagination(),this.__setTbody(),this.on_jump_page(),this.on_page_change())},t.arTable=new x})(window);